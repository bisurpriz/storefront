query getVendorById($id: uuid!) {
  tenant_by_pk(id: $id) {
    id
    name
    logo
    legal_company_title
    created_at
    owner {
      products_aggregate {
        aggregate {
          count
        }
      }
      reviews_aggregate {
        aggregate {
          count
        }
      }
    }
  }
}

query getVendorReviews($tenant_id: uuid!) {
  review_aggregate(
    where: { product: { tenant: { tenants: { id: { _eq: $tenant_id } } } } }
  ) {
    aggregate {
      count
    }
  }
}

query getVendorProductScoreAverage($tenant_id: uuid!) {
  product_aggregate(
    where: { tenant: { tenants: { id: { _eq: $tenant_id } } } }
  ) {
    aggregate {
      avg {
        score
      }
    }
  }
}

query getVendorCoupons($tenant_id: uuid!) {
  coupon_aggregate(
    where: { tenant: { tenants: { id: { _eq: $tenant_id } } } }
  ) {
    aggregate {
      count
    }
  }
  coupon {
    id
    code
    start_date
    end_date
    amount
    left_limit
    code

    minimum_cost
    limit
  }
}
