query getProductById($id: bigint = 0) {
  product: product_by_pk(id: $id) {
    product_categories {
      category {
        name
      }
    }
    description
    id
    image_url
    name
    price
    quantity
    is_service_free
    delivery_time_ranges
    delivery_type
    last_order_time
    properties
    score
    discount_price
    questions {
      created_at
      id
      question
      updated_at
      user {
        firstname
        lastname
      }
    }
    reviews {
      id
      comment
      created_at
      score
      user {
        firstname
        lastname
        picture
        id
      }
    }
    product_customizable_areas {
      customizable_area {
        id
        type
      }
    }
    reviews_aggregate {
      aggregate {
        count(columns: id)
      }
    }
    product_categories {
      category {
        name
        id
        slug
      }
    }
    tenant {
      id
      tenants {
        id
        name
        logo
        iyzi_sub_merchant_key
        commision_rate
      }
    }
    user_favorites {
      user_id
      id
    }
    user_favorites_aggregate {
      aggregate {
        count
      }
    }
  }
}

query getProductForCart($id: bigint = 0) {
  product: product_by_pk(id: $id) {
    description
    id
    image_url
    name
    price
    score
    discount_price
    product_customizable_areas {
      customizable_area {
        type
      }
      count
    }
    product_categories {
      category {
        name
      }
    }
    tenant {
      id
      tenants {
        id
        name
        logo
        iyzi_sub_merchant_key
        commision_rate
      }
    }
  }
  category {
    name
  }
}

query getProductPricesById($id: bigint = 0) {
  product: product_by_pk(id: $id) {
    id
    price
    discount_price
  }
}

query getProductsForInitialCart($ids: [bigint!]) {
  product(where: { id: { _in: $ids }, is_approved: { _eq: true } }) {
    name
    description
    id
    price
    discount_price
    score
    stock
    image_url
    delivery_time_ranges
    product_categories {
      category {
        id
        name
        slug
      }
    }
    tenant {
      id
      tenants {
        id
        name
        logo
        iyzi_sub_merchant_key
        commision_rate
        tenant_shipping_places {
          places
        }
      }
    }
    product_customizable_areas {
      customizable_area {
        id
        type
      }
      count
      max_character
    }
  }
}

query getProductActionData($id: bigint!) @cached(ttl: 180) {
  product: product_by_pk(id: $id) {
    delivery_type
    delivery_time_ranges
    tenant {
      tenants {
        tenant_shipping_places {
          places
        }
      }
    }
    user_favorites_aggregate {
      aggregate {
        count
      }
    }
    user_favorites(where: { product: { id: { _eq: $id } } }) {
      product_id
    }
  }
}

query getProductActionDataForAnonymous($id: bigint!) @cached(ttl: 180) {
  product: product_by_pk(id: $id) {
    delivery_type
    delivery_time_ranges
    tenant {
      tenants {
        tenant_shipping_places {
          places
        }
      }
    }
    user_favorites_aggregate {
      aggregate {
        count
      }
    }
  }
}

query getProductInformation($id: bigint!) @cached(ttl: 180) {
  product: product_by_pk(id: $id) {
    description
    id
    image_url
    name
    price
    is_service_free
    delivery_time_ranges
    delivery_type
    last_order_time
    score
    properties
    slug
    variants {
      variant {
        id
        name
        image_url
        price
        slug
        product_categories {
          category {
            slug
          }
        }
      }
    }
    product_categories {
      category {
        slug
      }
    }
    discount_price
    product_customizable_areas {
      customizable_area {
        id
        type
      }
      count
      max_character
    }
    reviews_aggregate {
      aggregate {
        count(columns: id)
        avg {
          score
        }
      }
    }
    tenant {
      tenants {
        name
        id
      }
    }
  }
}

query getProductImages($id: bigint!) @cached(ttl: 180) {
  product: product_by_pk(id: $id) {
    image_url
  }
}

query getProductDescription($id: bigint!) @cached(ttl: 180) {
  product: product_by_pk(id: $id) {
    description
    properties
  }
}

query getProductComments($id: bigint!) @cached(ttl: 180) {
  product: product_by_pk(id: $id) {
    reviews {
      id
      comment
      created_at
      score
      user {
        firstname
        lastname
        picture
      }
    }
  }
}
